### 1. 前言

​			系统间通信可以分为直接与间接通信，直接通信相关技术大家在开发中接触较多这里不在重复，间接通信主要使用消息中间件的方式实现，消息中间件本质是增加了一个中转中间层，实现消息的临时存储和路由转发。从而可以用在很多有意思的业务场景，如系统解藕, 流量削峰，异步通信, 日志收集等。消息中间件的选择可谓琳琅满目，有许多开源的和商业的实现，在特定的业务场景，你甚至可以借助Mysql或Redis轻松实现一个自已的消息队列。本文主要介绍开源的RabbitMq, RocketMq和Kafka产品特性，实现原理和技术选型。

### 2.  概述

​		    消息中间件的基本模型如下

​             ![image-20201126230001320](D:\person\knowledge\middleware\middleware_base.png)

​			Producer: 负责产生和发送消息到消息处理中心

​			Broker: 消息处理中心，负责消息的接收，存储，转发等

​			Consumer:  从消息处理中心获取消息进行处理

​			消息发送方式: 同步，异步， 批量

​            网络通迅:  协议 ,  全双工,  AMQP,  MQTT, XMPP

​            消息序列化与反序列化,

​            消息的接收: push 或 pull 

​           消息存储:  

​			模型基本的点对点， 发布订阅

​            集群

​			消息队列协议，现状，理论与模型等, 基本的点对点， 发布订阅

### 3.  主流消息中间件

​			介绍常见消息队列的特点,工作原理

#### 3.1. RabbitMq

#### 3.2. Kafka

#### 3.3. RocketMq

#### 3.4. 技术选型

#### 3.5. 其它

### 4. 常见问题

#### 4.1  消息顺序

#### 4.2 消息与分布式事务

#### 4.3  消息的可靠性

#### 4.4  重复消息

#### 4.5 流控与消息积压

### 5. 总结

### 6. 参考资料

**官网** 

https://www.rabbitmq.com/

http://rocketmq.apache.org/

http://kafka.apache.org/

**极客时间**

<消息队列高手课>

<Kafka核心技术与实战>

**书** 

<分布式消息中间件实践>

<深入理解Kafka：核心设计与实践原理>

<RabbitMQ实战指南>

<RocketMQ技术内幕>

**链接**

 [日志：每个软件工程师都应该知道的有关实时数据的统一概念](http://www.oschina.net/translate/log-what-every-software-engineer-should-know-about-real-time-datas-unifying)

[AMQP高级消息队列协议](https://www.amqp.org/)